単体試験（ユニットテスト）において、バグを逃さず品質を担保するための網羅的なテスト観点リストを作成しました。

大きく**「正常系」「異常系」「境界値」「ロジック・構造」**の4つのカテゴリに分類しています。

---

### 1. インターフェース・入出力の観点
プログラムの入り口（引数）と出口（戻り値）が正しいかを確認します。

*   **引数のバリエーション:**
    *   全ての引数に値が設定されている場合。
    *   オプション引数（省略可能引数）を指定した場合としない場合。
    *   引数の順序が正しいか。
*   **戻り値:**
    *   期待通りの型、値が返されるか。
    *   `null` や空文字、空のリストが返されるべきケースで正しく返るか。
*   **参照渡し・副作用:**
    *   引数で渡したオブジェクトが、意図せず内部で書き換えられていないか（または意図通り書き換えられているか）。
    *   グローバル変数や静的変数が意図しない状態に更新されていないか。

### 2. 正常系の観点
仕様書通りに機能が動作するかを確認します。

*   **基本機能:** 典型的な入力値に対して、期待される計算・処理結果が得られるか。
*   **データ連携:**
    *   DBへの登録・更新・削除が期待通りに行われるか。
    *   外部APIやファイルへの出力内容が正しいか。
*   **状態遷移:** オブジェクトの内部状態（ステータス）が、処理後に期待通り変化しているか。

### 3. 境界値・極端な値の観点（バグが最も出やすい箇所）
値の境目や、システムが許容する限界値を確認します。

*   **数値:**
    *   有効範囲の最小値と最大値。
    *   最小値-1、最小値+1、最大値-1、最大値+1（境界値分析）。
    *   0、負数、小数。
*   **文字列:**
    *   空文字 `""`。
    *   最大文字数、最大文字数+1。
    *   禁止文字（サロゲートペア、制御文字、特殊記号など）。
*   **配列・コレクション:**
    *   要素数 0（空）。
    *   要素数 1。
    *   要素数が最大容量の場合。
*   **日付・時刻:**
    *   うるう年（2月29日）。
    *   月初、月末、年末、年始。
    *   タイムゾーンの跨ぎ。

### 4. 異常系・エラー処理の観点
不正な操作や、予期せぬ外部要因に対する挙動を確認します。

*   **不正な入力値:**
    *   `null` や `undefined` の注入。
    *   型違い（数値が必要な場所に文字列など）。
    *   フォーマット不正（メールアドレス形式でない、など）。
*   **リソース・環境エラー:**
    *   DB接続失敗、タイムアウト。
    *   ファイルが存在しない、読み取り権限がない。
    *   ディスク容量フル。
    *   ネットワーク遮断。
*   **例外処理:**
    *   意図した例外（Exception）が発生し、適切にキャッチまたはスローされているか。
    *   エラーメッセージの内容が適切か。

### 5. ロジック・制御構造の観点（ホワイトボックステスト）
コードの内部構造に着目した観点です。

*   **分岐網羅（カバレッジ）:**
    *   `if / else` の全てのパスを通過したか。
    *   `switch / case` の全てのケースと `default` を通過したか。
*   **ループ処理:**
    *   ループが0回（一度も実行されない）の場合。
    *   ループが1回のみの場合。
    *   ループが最大回数繰り返される場合。
    *   無限ループに陥る可能性はないか。
*   **複合条件:**
    *   `if (A && B)` のような場合、Aが真/偽、Bが真/偽の組み合わせを網羅しているか。

### 6. 非機能・その他の観点
コードの品質や安全性に関する観点です。

*   **パフォーマンス（簡易的な確認）:**
    *   大量データを処理した際に、極端に処理時間がかからないか。
    *   メモリリークの兆候はないか（巨大なオブジェクトの生成など）。
*   **セキュリティ:**
    *   SQLインジェクション対策（バインド変数を使用しているか）。
    *   XSS対策（サニタイズ処理）。
    *   ログに機密情報（パスワードや個人情報）を出力していないか。
*   **再入可能性・並列性:**
    *   同じメソッドを連続で呼んでも副作用がないか（べき等性）。
    *   （マルチスレッド環境の場合）スレッドセーフであるか。

---

### 効率的に進めるためのヒント

1.  **カバレッジ指標（C0/C1/C2）を活用する:**
    *   C0（命令網羅）：すべての行を実行。
    *   C1（分岐網羅）：すべての分岐（Yes/No）を実行。
    *   まずはC1を100%にすることを目指すのが一般的です。
2.  **同値分割と境界値分析:**
    *   全ての値をテストするのは不可能なため、「同じ結果になるグループ」に分け、その中から代表値と境界値だけをピックアップします。
3.  **モック（Mock）の活用:**
    *   DBや外部APIなど、単体テストで制御しにくい部分はモックに置き換え、純粋に「その関数のロジック」だけをテストします。

